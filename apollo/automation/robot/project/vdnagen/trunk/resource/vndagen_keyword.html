<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
html {
  font-family: Arial,Helvetica,sans-serif;
  background-color: white;
  color: black;
}
table {
  border-collapse: collapse;
  empty-cells: show;
  margin: 1em 0em;
  border: 1px solid black;
}
th, td {
  border: 1px solid black;
  padding: 0.1em 0.2em;
  height: 1.5em;
  width: 12em;
}
td.colspan4, th.colspan4 {
    width: 48em;
}
td.colspan3, th.colspan3 {
    width: 36em;
}
td.colspan2, th.colspan2 {
    width: 24em;
}
th {
  background-color: rgb(192, 192, 192);
  color: black;
  height: 1.7em;
  font-weight: bold;
  text-align: center;
  letter-spacing: 0.1em;
}
td.name {
  background-color: rgb(240, 240, 240);
  letter-spacing: 0.1em;
}
td.name, th.name {
  width: 10em;
}
</style>
<title>Vndagen Keyword</title>
</head>
<body>
<h1>Vndagen Keyword</h1>
<table border="1" id="setting">
<tr>
<th class="name" colspan="5">Settings</th>
</tr>
<tr>
<td class="name">Library</td>
<td>XML</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name">Library</td>
<td>../../../vddb/trunk/testlib/VddbLib.py</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name">Library</td>
<td>../../../common/trunk/testlib/CommonLib.py</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name">Resource</td>
<td>../../../common/trunk/resource/common_keywords.html</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name">Library</td>
<td>../../../../tools/remote_run_cmd/remote_run_cmd.py</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
<table border="1" id="keyword">
<tr>
<th class="name" colspan="5">Keywords</th>
</tr>
<tr>
<td class="name"><a name="keyword_check ingest result">check ingest result</a></td>
<td>[Arguments]</td>
<td>${return_xml}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${ErrorCode} =</td>
<td>Get Element Text</td>
<td>${return_xml}</td>
<td>ErrorCode</td>
</tr>
<tr>
<td class="name"></td>
<td>${ErrorMsg} =</td>
<td>Get Element Text</td>
<td>${return_xml}</td>
<td>ErrorMsg</td>
</tr>
<tr>
<td class="name"></td>
<td>${VobileRefID} =</td>
<td>Get Element Text</td>
<td>${return_xml}</td>
<td>VobileRefID</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${ErrorCode}</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${ErrorMsg}</td>
<td>Success</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>[Return]</td>
<td>${VobileRefID}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_delete meta for vdnagen">delete meta for vdnagen</a></td>
<td>[Arguments]</td>
<td>${meta_uuid}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${return_msg} =</td>
<td>pyweb api call</td>
<td>POST</td>
<td>/mediawise/auth</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>{"protocols": ["5.2.6"], "user": "zhang_jin", "password": "123" }</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${token} =</td>
<td>Get Json Element</td>
<td>${return_msg}</td>
<td>header.set-cookie</td>
</tr>
<tr>
<td class="name"></td>
<td>${return_msg} =</td>
<td>pyweb api call</td>
<td>DELETE</td>
<td>/mediawise/contents/${meta_uuid}</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>None</td>
<td>{"Content-type":"application/x-www-form-urlencoded","Cookie":"${token}"}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Log Many</td>
<td>${return_msg}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_set pyweb env">set pyweb env</a></td>
<td>[Arguments]</td>
<td>${sut_file}</td>
<td>${host}</td>
<td>${port}</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${ssl}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>set pyweb sut file</td>
<td>${sut_file}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>set pyweb host</td>
<td>${host}</td>
<td>${port}</td>
<td>${ssl}</td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_delete metalist">delete metalist</a></td>
<td>[Arguments]</td>
<td>${metalist}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>: FOR</td>
<td>${meta}</td>
<td>IN</td>
<td>@{metalist}</td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td>delete meta for vdnagen</td>
<td>${meta}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_get dna file path">get dna file path</a></td>
<td>[Arguments]</td>
<td>${instance_uuid}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${dna_path} =</td>
<td>Catenate</td>
<td>${instance_uuid[6:8]}/${instance_uuid[21:23]}/${instance_uuid}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>[Return]</td>
<td>${dna_path}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_get instance uuid">get instance uuid</a></td>
<td>[Arguments]</td>
<td>${host}</td>
<td>${user}</td>
<td>${passwd}</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${dbname}</td>
<td>${sql}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>log Many</td>
<td>${sql}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${result} =</td>
<td>Execute sql</td>
<td>${host}</td>
<td>${user}</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${passwd}</td>
<td>${dbname}</td>
<td>${sql}</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>true</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>[Return]</td>
<td>${result[0][0]}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_check far result">check far result</a></td>
<td>[Arguments]</td>
<td>${return_xml}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>log many</td>
<td>${return_xml}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${num} =</td>
<td>Get Element Count</td>
<td>${return_xml}</td>
<td>ErrorCode</td>
</tr>
<tr>
<td class="name"></td>
<td>${ErrorCode}</td>
<td>Run Keyword If</td>
<td>'${num}' == '1'</td>
<td>Get Element Text</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${return_xml}</td>
<td>ErrorCode</td>
<td>ELSE</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Get Element Text</td>
<td>${return_xml}</td>
<td>error_code</td>
</tr>
<tr>
<td class="name"></td>
<td>${ErrorMsg}</td>
<td>Run Keyword If</td>
<td>'${num}' == '1'</td>
<td>Get Element Text</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${return_xml}</td>
<td>ErrorMsg</td>
<td>ELSE</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Get Element Text</td>
<td>${return_xml}</td>
<td>error_msg</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${ErrorCode}</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${ErrorMsg}</td>
<td>Success</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_check dna">check dna</a></td>
<td>[Arguments]</td>
<td>${dna}</td>
<td>${ffmpeg}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${checkdnastats} =</td>
<td>parse dna status result</td>
<td>${dna}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${chechffstatus} =</td>
<td>parse ffmpeg result</td>
<td>${ffmpeg}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${t_length} =</td>
<td>Call Method</td>
<td>${checkdnastats}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>LENGTH</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${duration} =</td>
<td>Call Method</td>
<td>${chechffstatus}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Duration</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>Should Be Equal</td>
<td>${t_length}</td>
<td>${duration}</td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_check stats machine">check stats machine</a></td>
<td>[Arguments]</td>
<td>${meta_xml}</td>
<td>${ip_address}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${meta_xml} =</td>
<td>Parse Xml</td>
<td>${meta_xml}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_CPUInfo}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>Machine/CPUInfo</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_WordLength}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>Machine/WordLength</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_OperateSystem}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>Machine/OperateSystem</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_MemeryTotal}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>Machine/MemeryTotal</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_IpAddress}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>Machine/IpAddress</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_MacAddress}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>Machine/MacAddress</td>
</tr>
<tr>
<td class="name"></td>
<td>${CPUInfo}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat /proc/cpuinfo | grep "model name" | tr -s [:space:] | awk -F ':' '{print $2}' | head -1 | tr -d '\n<br>
'</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>should contain</td>
<td>${xml_CPUInfo}\r\n<br>
</td>
<td>${CPUInfo}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${WordLength}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>file /bin/ls | awk -F ' ' '{print $3}' | awk -F '-' '{print $1}'</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>should contain</td>
<td>${xml_WordLength}\n<br>
</td>
<td>${WordLength}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${OperateSystem}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat /etc/issue</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${OperateSystem}=</td>
<td>Call Method</td>
<td>${OperateSystem}</td>
<td>split</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${SPACE}\\n</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>should contain</td>
<td>${xml_OperateSystem}</td>
<td>${OperateSystem[0]}</td>
</tr>
<tr>
<td class="name"></td>
<td>${MemeryTotal}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>grep MemTotal /proc/meminfo | tr -s [:space:] | awk -F ': ' '{print $2}'</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>should contain</td>
<td>${xml_MemeryTotal}\n<br>
</td>
<td>${MemeryTotal}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${IpAddress_machine}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>/sbin/ifconfig | grep Bcast | awk -F ':' '{print $2}' | awk -F ' ' '{print $1}'</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_IpAddress}=</td>
<td>Call Method</td>
<td>${xml_IpAddress}</td>
<td>split</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>;</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>should contain</td>
<td>${xml_IpAddress[0]}\n<br>
</td>
<td>${IpAddress_machine}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${MacAddress}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>/sbin/ifconfig | grep HWaddr | awk -F 'HWaddr ' '{print $2}' | head -1</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${MacAddress}=</td>
<td>Call Method</td>
<td>${MacAddress}</td>
<td>split</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${SPACE}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_MacAddress}=</td>
<td>Call Method</td>
<td>${xml_MacAddress}</td>
<td>split</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>;</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>should contain</td>
<td>${xml_MacAddress[0]}</td>
<td>${MacAddress[0]}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_check video stats">check video stats</a></td>
<td>[Arguments]</td>
<td>${meta_xml}</td>
<td>${ffmpeg}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${meta_xml} =</td>
<td>Parse Xml</td>
<td>${meta_xml}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Log Many</td>
<td>${meta_xml}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${ffmpeg}=</td>
<td>parse ffmpeg result</td>
<td>${ffmpeg}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Log Many</td>
<td></td>
<td>${ffmpeg}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AssetID}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>AssetID</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_name}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>media_name</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>Should Be Equal</td>
<td>${xml_AssetID}</td>
<td>${ffm_name}</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_Version}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>Version</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Not Be Empty</td>
<td>${xml_Version}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_QuickMD5}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/QuickMD5</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Not Be Empty</td>
<td>${xml_QuickMD5}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_Duration}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Duration</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_Duration} =</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Duration</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>${check_Duration}=</td>
<td>Run Keyword If</td>
<td>'${xml_Duration}' == ''</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Catenate</td>
<td>no Duration</td>
<td>ELSE</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Should Be Equal</td>
<td>${xml_Duration}</td>
<td>${ffm_Duration}</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_VideoCodec}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Video/VideoCodec</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_VideoCodec}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>video_codec</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_VideoCodec}=</td>
<td>Run Keyword If</td>
<td>'${ffm_VideoCodec}' == 'None'</td>
<td>Catenate</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>no VideoCodec</td>
<td>ELSE</td>
<td>Should Be Equal</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${xml_VideoCodec}</td>
<td>${ffm_VideoCodec}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_VideoWidth}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Video/VideoWidth</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_VideoWidth}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>video_width</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_VideoWidth}=</td>
<td>Run Keyword If</td>
<td>'${ffm_VideoWidth}' == 'None'</td>
<td>Catenate</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>no VideoWidth</td>
<td>ELSE</td>
<td>Should Be Equal</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${xml_VideoWidth}</td>
<td>${ffm_VideoWidth}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_VideoHeight}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Video/VideoHeight</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_VideoHeight}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>video_height</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_VideoHeight}=</td>
<td>Run Keyword If</td>
<td>'${ffm_VideoHeight}' == 'None'</td>
<td>Catenate</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>no VideoHeight</td>
<td>ELSE</td>
<td>Should Be Equal</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${xml_VideoHeight}</td>
<td>${ffm_VideoHeight}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_VideoFPS}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Video/VideoFPS</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_VideoFPS}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>video_fps</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_VideoFPS}=</td>
<td>Run Keyword If</td>
<td>'${ffm_VideoFPS}' == 'None'</td>
<td>Catenate</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>no video_fps</td>
<td>ELSE</td>
<td>Should Be Equal</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${xml_VideoFPS}</td>
<td>${ffm_VideoFPS}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AudioCodec}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Audio/AudioTrack/AudioCodec</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_AudioCodec}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>auido_codec</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_AudioCodec}=</td>
<td>Run Keyword If</td>
<td>'${ffm_AudioCodec}' == 'None'</td>
<td>Catenate</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>no audio_codec</td>
<td>ELSE</td>
<td>Should Be Equal</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${xml_AudioCodec}</td>
<td>${ffm_AudioCodec}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AudioRate}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Audio/AudioTrack/AudioRate</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_AudioRate}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>auido_bit</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_AudioRate}=</td>
<td>Run Keyword If</td>
<td>'${ffm_AudioRate}' == 'None'</td>
<td>Catenate</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>no audio_rate</td>
<td>ELSE</td>
<td>Should Be Equal</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${xml_AudioRate}</td>
<td>${ffm_AudioRate}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_check audio stats">check audio stats</a></td>
<td>[Arguments]</td>
<td>${meta_xml}</td>
<td>${ffmpeg}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${meta_xml} =</td>
<td>Parse Xml</td>
<td>${meta_xml}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${ffmpeg}=</td>
<td>parse ffmpeg result</td>
<td>${ffmpeg}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AssetID}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>AssetID</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_name}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>media_name</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>Should Be Equal</td>
<td>${xml_AssetID}</td>
<td>${ffm_name}</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_Version}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>Version</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Not Be Empty</td>
<td>${xml_Version}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_QuickMD5}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/QuickMD5</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Not Be Empty</td>
<td>${xml_QuickMD5}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_Duration}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Duration</td>
</tr>
<tr>
<td class="name"></td>
<td>Log Many</td>
<td>${xml_Duration}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_Duration} =</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Duration</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>${check_Duration}=</td>
<td>Run Keyword If</td>
<td>'${xml_Duration}' == ''</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Catenate</td>
<td>no Duration</td>
<td>ELSE</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>Should Be Equal</td>
<td>${xml_Duration}</td>
<td>${ffm_Duration}</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AudioCodec}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Audio/AudioTrack/AudioCodec</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_AudioCodec}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>auido_codec</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_AudioCodec}=</td>
<td>Run Keyword If</td>
<td>'${ffm_AudioCodec}' == 'None'</td>
<td>Catenate</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>no audio_codec</td>
<td>ELSE</td>
<td>Should Be Equal</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${xml_AudioCodec}</td>
<td>${ffm_AudioCodec}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AudioRate}=</td>
<td>Get Element Text</td>
<td>${meta_xml}</td>
<td>ProcessFile/DetailFileInfo/Audio/AudioTrack/AudioRate</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffm_AudioRate}=</td>
<td>Call Method</td>
<td>${ffmpeg}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>auido_bit</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_AudioRate}=</td>
<td>Run Keyword If</td>
<td>'${ffm_AudioRate}' == 'None'</td>
<td>Catenate</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>no audio_rate</td>
<td>ELSE</td>
<td>Should Be Equal</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>${xml_AudioRate}</td>
<td>${ffm_AudioRate}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_check video far">check video far</a></td>
<td>[Arguments]</td>
<td>${video_name}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${ip_address}</td>
<td>${TEST_IP_ADDRESS}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${video_name}</td>
<td>${video_name}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_h}</td>
<td>Usage:\n<br>
\tVDNAGen [-d] [-i &lt;asset_id&gt;] [-m &lt;meta_file&gt;] [-r &lt;publish_url&gt;] [-t &lt;upload_time&gt;] [{--receipt &lt;receipt_file&gt; -D &lt;receipt_directory&gt;}] \n<br>
\t\t[-f &lt;temporary_directory&gt;] -o &lt;far_file&gt; media_file</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_v}</td>
<td>VDNAGen 3.4.6.0</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_i}</td>
<td>Assert_ID</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_r}</td>
<td>Publish_URL</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_t}</td>
<td>2014-07-28 12:00:00</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -h</td>
<td>#expect:显示VDNAGen的帮助信息</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_h}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -h</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>Should Contain</td>
<td>${check_h}</td>
<td>${vdnagen_h}</td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -v</td>
<td>#expect:显示VDNAGen的版本信息3.4.5.0</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_v}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -v</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Contain</td>
<td>${check_v}</td>
<td>${vdnagen_v}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -i ${vdnagen_i} -r ${vdnagen_r} -t '${vdnagen_t}' -d -o ${GENERATOR_FAR_PATH}/${video_name}.far ${SOURCE_FILE_PATH}/${video_name} -m ${SOURCE_FILE_PATH}/movie_meta.xml -q</td>
<td>#expect:生成far文件</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Log Many</td>
<td>VDNAGen -i ${vdnagen_i} -r ${vdnagen_r} -t "${vdnagen_t}" -d -o ${GENERATOR_FAR_PATH}/${video_name}.far ${SOURCE_FILE_PATH}/${video_name} -m ${SOURCE_FILE_PATH}/movie_meta.xml --receipt ${video_name} -D ${GENERATOR_FAR_PATH} -q</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${result}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -i ${vdnagen_i} -r ${vdnagen_r} -t "${vdnagen_t}" -d -o ${GENERATOR_FAR_PATH}/${video_name}.far ${SOURCE_FILE_PATH}/${video_name} -m ${SOURCE_FILE_PATH}/movie_meta.xml --receipt ${video_name} -D ${GENERATOR_FAR_PATH} -q</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测调用--receipt、-D生成far文件输出结果</td>
<td>#expect:对应目录下有对应文件生成，文件内容对应的结果为0、Success</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${result}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/${video_name}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>check far result</td>
<td>${result}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${checkfar}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>far_split -i \ ${GENERATOR_FAR_PATH}/${video_name}.far \ -d ${GENERATOR_FAR_PATH}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>150机器</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>${checkfar}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>9999</td>
<td>far_split -i \ ${GENERATOR_FAR_PATH}/${video_name}.far \ -d C://${GENERATOR_FAR_PATH}</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>true</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测dna、vdna、adna状态</td>
<td>#expect:dna、vdna、adna长度与素材长度相等；定义adna为old audio算法的version值为2，定义adna为new audio 算法的version值为4</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${checkmerge}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>dna_split -i \ ${GENERATOR_FAR_PATH}/merged.dna \ -d ${GENERATOR_FAR_PATH}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffmpeg}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>ffmpeg -i ${SOURCE_FILE_PATH}/${video_name}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${checkdnastats}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>dna_status -i ${GENERATOR_FAR_PATH}/merged.dna</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${dna_ffmpeg}=</td>
<td>check dna</td>
<td>${checkdnastats}</td>
<td>${ffmpeg}</td>
</tr>
<tr>
<td class="name"></td>
<td>${checkvdnastats}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>dna_status -i ${GENERATOR_FAR_PATH}/merged.dna.0.dna</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${vdna_ffmpeg}=</td>
<td>check dna</td>
<td>${checkvdnastats}</td>
<td>${ffmpeg}</td>
</tr>
<tr>
<td class="name"></td>
<td>${checkvdnastats}=</td>
<td>parse dna status result</td>
<td>${checkvdnastats}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${vdnaversion}=</td>
<td>Call Method</td>
<td>${checkvdnastats}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>version is</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${vdnaversion}</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${checkadnastats}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>dna_status -i ${GENERATOR_FAR_PATH}/merged.dna.1.adna</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${adna_ffmpeg}=</td>
<td>check dna</td>
<td>${checkadnastats}</td>
<td>${ffmpeg}</td>
</tr>
<tr>
<td class="name"></td>
<td>${checkadnastats}=</td>
<td>parse dna status result</td>
<td>${checkadnastats}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${adnaversion}=</td>
<td>Call Method</td>
<td>${checkadnastats}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>version is</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${adnaversion}</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测far文件中的meta文件</td>
<td>#expect:生成的meta的信息与设置的一致</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_meta}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/meta</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_meta}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${SOURCE_FILE_PATH}/movie_meta.xml</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${check_meta}</td>
<td>${xml_meta}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测stats文件中的video/audio/DetailFileInfo信息内容</td>
<td>#expect:stats信息与ffmpeg查看的信息一致</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_stats}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/stats</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测stats文件的machine信息</td>
<td>#expect:stats信息与机器信息一致</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>check stats machine</td>
<td>${check_stats}</td>
<td>${ip_address}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_stats} =</td>
<td>Parse Xml</td>
<td>${check_stats}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测stats文件的AssetID、PublishURL、UploadTime及log文件</td>
<td>#expect:AssetID、PublishURL、UploadTime与输入相同，存在api_log文件</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AssetID}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>AssetID</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_AssetID}</td>
<td>${vdnagen_i}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_PublishURL}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>PublishURL</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_PublishURL}</td>
<td>${vdnagen_r}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_UploadTime}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>UploadTime</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_UploadTime}</td>
<td>${vdnagen_t}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${vdnagen_d}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>ls ${GENERATOR_FAR_PATH}/api_log | wc -l</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal As Integers</td>
<td>${vdnagen_d}</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:清空测试数据</td>
<td>#expect:执行用例后产生的数据被删除干净</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
<td>rm -rf ${GENERATOR_FAR_PATH}/${video_name}* ${GENERATOR_FAR_PATH}/far.tar ${GENERATOR_FAR_PATH}/image.idna ${GENERATOR_FAR_PATH}/image_snapshots ${GENERATOR_FAR_PATH}/meta ${GENERATOR_FAR_PATH}/stats ${GENERATOR_FAR_PATH}/frame_idna* ${GENERATOR_FAR_PATH}/screenshot* ${GENERATOR_FAR_PATH}/video_snapshots_1 ${GENERATOR_FAR_PATH}/merged.dna* ${GENERATOR_FAR_PATH}/api_log</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>true</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_check audio far">check audio far</a></td>
<td>[Arguments]</td>
<td>${video_name}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${ip_address}</td>
<td>${TEST_IP_ADDRESS}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${video_name}</td>
<td>${video_name}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_h}</td>
<td>Usage:\n<br>
\tVDNAGen [-d] [-i &lt;asset_id&gt;] [-m &lt;meta_file&gt;] [-r &lt;publish_url&gt;] [-t &lt;upload_time&gt;] [{--receipt &lt;receipt_file&gt; -D &lt;receipt_directory&gt;}] \n<br>
\t\t[-f &lt;temporary_directory&gt;] -o &lt;far_file&gt; media_file</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_v}</td>
<td>VDNAGen 3.4.6.0</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_i}</td>
<td>Assert_ID</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_r}</td>
<td>Publish_URL</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_t}</td>
<td>2014-07-28 12:00:00</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -h</td>
<td>#expect:显示VDNAGen的帮助信息</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_h}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -h</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Comment</td>
<td>Should Contain</td>
<td>${check_h}</td>
<td>${vdnagen_h}</td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -v</td>
<td>#expect:显示VDNAGen的版本信息3.4.5.0</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_v}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -v</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Contain</td>
<td>${check_v}</td>
<td>${vdnagen_v}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -i ${vdnagen_i} -r ${vdnagen_r} -t '${vdnagen_t}' -d -o ${GENERATOR_FAR_PATH}/${video_name}.far ${SOURCE_FILE_PATH}/${video_name} -m ${SOURCE_FILE_PATH}/movie_meta.xml -q</td>
<td>#expect:生成far文件</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Log Many</td>
<td>far_split -i ${GENERATOR_FAR_PATH}/${video_name}.far -d ${GENERATOR_FAR_PATH}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${result}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -i ${vdnagen_i} -r ${vdnagen_r} -t "${vdnagen_t}" -d -o ${GENERATOR_FAR_PATH}/${video_name}.far ${SOURCE_FILE_PATH}/${video_name} -m ${SOURCE_FILE_PATH}/audio_meta.xml --receipt ${video_name} -D ${GENERATOR_FAR_PATH} -q</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测调用--receipt、-D生成far文件输出结果</td>
<td>#expect:对应目录下有对应文件生成，文件内容对应的结果为0、Success</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${result}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/${video_name}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>check far result</td>
<td>${result}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${checkfar}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>far_split -i ${GENERATOR_FAR_PATH}/${video_name}.far -d ${GENERATOR_FAR_PATH}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测dna、vdna、adna状态</td>
<td>#expect:dna、vdna、adna长度与素材长度相等；定义adna为old audio算法的version值为2，定义adna为new audio 算法的version值为4</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${checkmerge}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>dna_split -i \ ${GENERATOR_FAR_PATH}/merged.dna \ -d ${GENERATOR_FAR_PATH}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${ffmpeg}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>ffmpeg -i ${SOURCE_FILE_PATH}/${video_name}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${checkdnastats}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>dna_status -i ${GENERATOR_FAR_PATH}/merged.dna</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${dna_ffmpeg}=</td>
<td>check dna</td>
<td>${checkdnastats}</td>
<td>${ffmpeg}</td>
</tr>
<tr>
<td class="name"></td>
<td>${checkadnastats}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>dna_status -i ${GENERATOR_FAR_PATH}/merged.dna.0.adna</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${adna_ffmpeg}=</td>
<td>check dna</td>
<td>${checkadnastats}</td>
<td>${ffmpeg}</td>
</tr>
<tr>
<td class="name"></td>
<td>${checkadnastats}=</td>
<td>parse dna status result</td>
<td>${checkadnastats}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${adnaversion}=</td>
<td>Call Method</td>
<td>${checkadnastats}</td>
<td>get</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>version is</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${adnaversion}</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测far文件中的meta文件</td>
<td>#expect:生成的meta的信息与设置的一致</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_meta}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/meta</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_meta}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${SOURCE_FILE_PATH}/audio_meta.xml</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${check_meta}</td>
<td>${xml_meta}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测stats文件中的video/audio/DetailFileInfo信息内容</td>
<td>#expect:stats信息与ffmpeg查看的信息一致</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_stats}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/stats</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>check audio stats</td>
<td>${check_stats}</td>
<td>${ffmpeg}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测stats文件的machine信息</td>
<td>#expect:stats信息与机器信息一致</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>check stats machine</td>
<td>${check_stats}</td>
<td>${ip_address}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_stats} =</td>
<td>Parse Xml</td>
<td>${check_stats}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测stats文件的AssetID、PublishURL、UploadTime及log文件</td>
<td>#expect:AssetID、PublishURL、UploadTime与输入相同，存在api_log文件</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AssetID}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>AssetID</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_AssetID}</td>
<td>${vdnagen_i}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_PublishURL}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>PublishURL</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_PublishURL}</td>
<td>${vdnagen_r}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_UploadTime}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>UploadTime</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_UploadTime}</td>
<td>${vdnagen_t}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${vdnagen_d}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>ls ${GENERATOR_FAR_PATH}/api_log | wc -l</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal As Integers</td>
<td>${vdnagen_d}</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:清空测试数据</td>
<td>#expect:执行用例后产生的数据被删除干净</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
<td>rm -rf ${GENERATOR_FAR_PATH}/${video_name}* ${GENERATOR_FAR_PATH}/far.tar ${GENERATOR_FAR_PATH}/image.idna ${GENERATOR_FAR_PATH}/image_snapshots ${GENERATOR_FAR_PATH}/meta ${GENERATOR_FAR_PATH}/stats ${GENERATOR_FAR_PATH}/frame_idna* ${GENERATOR_FAR_PATH}/screenshot* ${GENERATOR_FAR_PATH}/video_snapshots_1 ${GENERATOR_FAR_PATH}/merged.dna* ${GENERATOR_FAR_PATH}/api_log</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>true</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"><a name="keyword_check image far">check image far</a></td>
<td>[Arguments]</td>
<td>${video_name}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${ip_address}</td>
<td>${TEST_IP_ADDRESS}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${video_name}</td>
<td>${video_name}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_h}</td>
<td>Usage:\n<br>
\tVDNAGen [-d] [-i &lt;asset_id&gt;] [-m &lt;meta_file&gt;] [-r &lt;publish_url&gt;] [-t &lt;upload_time&gt;] [{--receipt &lt;receipt_file&gt; -D &lt;receipt_directory&gt;}] \n<br>
\t\t[-f &lt;temporary_directory&gt;] -o &lt;far_file&gt; media_file</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_v}</td>
<td>VDNAGen 3.4.6.0</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_i}</td>
<td>Assert_ID</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_r}</td>
<td>Publish_URL</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>Set Test Variable</td>
<td>${vdnagen_t}</td>
<td>2014-07-28 12:00:00</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -h</td>
<td>#expect:显示VDNAGen的帮助信息</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_h}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -h</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Contain</td>
<td>${check_h}</td>
<td>${vdnagen_h}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -v</td>
<td>#expect:显示VDNAGen的版本信息3.4.5.0</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_v}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -v</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Contain</td>
<td>${check_v}</td>
<td>${vdnagen_v}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:调用VDNAGen -i ${vdnagen_i} -r ${vdnagen_r} -t “${vdnagen_t}” -d -o ${GENERATOR_FAR_PATH}/${video_name}.far ${SOURCE_FILE_PATH}/${video_name} -m ${SOURCE_FILE_PATH}/audio_meta.xml --receipt ${video_name} -D ${GENERATOR_FAR_PATH} -q</td>
<td>#expect:生成far文件</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${result}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>VDNAGen -i ${vdnagen_i} -r ${vdnagen_r} -t "${vdnagen_t}" -d -o ${GENERATOR_FAR_PATH}/${video_name}.far ${SOURCE_FILE_PATH}/${video_name} -m ${SOURCE_FILE_PATH}/image_meta.xml --receipt ${video_name} -D ${GENERATOR_FAR_PATH} -q</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测调用--receipt、-D生成far文件输出结果</td>
<td>#expect:对应目录下有对应文件生成，文件内容对应的结果为0、Success</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${result}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/${video_name}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>check far result</td>
<td>${result}</td>
<td></td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${checkfar}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>far_split -i \ ${GENERATOR_FAR_PATH}/${video_name}.far \ -d ${GENERATOR_FAR_PATH}</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测far文件中的meta文件</td>
<td>#expect:生成的meta的信息与设置的一致</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_meta}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/meta</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_meta}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${SOURCE_FILE_PATH}/image_meta.xml</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${check_meta}</td>
<td>${xml_meta}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测stats文件的machine信息</td>
<td>#expect:stats信息与机器信息一致</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_stats}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>cat ${GENERATOR_FAR_PATH}/stats</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>check stats machine</td>
<td>${check_stats}</td>
<td>${ip_address}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测snapshot文件</td>
<td>#expect:有一张snapshot图片</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_snapshot}=</td>
<td>Remote Run Cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>ls ${GENERATOR_FAR_PATH}/image_snapshots/ | wc -l</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal As Integers</td>
<td>${check_snapshot}</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测idna文件</td>
<td>#expect:idna文件包含good idna或bad idna</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_idna}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>idna_parse ${GENERATOR_FAR_PATH}/image.idna</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Contain</td>
<td>${check_idna}</td>
<td>good</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:检测stats文件的AssetID、PublishURL、UploadTime及log文件</td>
<td>#expect:AssetID、PublishURL、UploadTime与输入相同，存在api_log文件</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${check_stats} =</td>
<td>Parse Xml</td>
<td>${check_stats}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_AssetID}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>AssetID</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_AssetID}</td>
<td>${vdnagen_i}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_PublishURL}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>PublishURL</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_PublishURL}</td>
<td>${vdnagen_r}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${xml_UploadTime}=</td>
<td>Get Element Text</td>
<td>${check_stats}</td>
<td>UploadTime</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal</td>
<td>${xml_UploadTime}</td>
<td>${vdnagen_t}</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>${vdnagen_d}=</td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>ls ${GENERATOR_FAR_PATH}/api_log | wc -l</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td class="name"></td>
<td>Should Be Equal As Integers</td>
<td>${vdnagen_d}</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>comment</td>
<td>#action:清空测试数据</td>
<td>#expect:执行用例后产生的数据被删除干净</td>
<td></td>
</tr>
<tr>
<td class="name"></td>
<td>remote run cmd</td>
<td>${ip_address}</td>
<td>9999</td>
<td>rm -rf ${GENERATOR_FAR_PATH}/${video_name}* ${GENERATOR_FAR_PATH}/far.tar ${GENERATOR_FAR_PATH}/image.idna ${GENERATOR_FAR_PATH}/image_snapshots ${GENERATOR_FAR_PATH}/meta ${GENERATOR_FAR_PATH}/stats ${GENERATOR_FAR_PATH}/frame_idna* ${GENERATOR_FAR_PATH}/video_snapshots_1 ${GENERATOR_FAR_PATH}/merged.dna* ${GENERATOR_FAR_PATH}/api_log</td>
</tr>
<tr>
<td class="name"></td>
<td>...</td>
<td>true</td>
<td>true</td>
<td></td>
</tr>
</table>
</body>
</html>
